%!PS-Adobe-2.0
%%Creator: dvips(k) 5.92b Copyright 2002 Radical Eye Software
%%Title: doc.dvi
%%Pages: 7
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Palatino-Roman Palatino-Italic Helvetica Helvetica-Bold
%%+ EURM10 CMR10 CMSY10 Palatino-Bold Symbol Courier Palatino-BoldItalic
%%+ CMMI10
%%DocumentPaperSizes: a4
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -o api.ps doc.dvi
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2004.06.25:1715
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% File  8r.enc as of 2002-03-12 for PSNFSS 9
%
% This is the encoding vector for Type1 and TrueType fonts to be used
% with TeX.  This file is part of the PSNFSS bundle, version 9
% 
% Authors: S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry, W. Schmidt
%
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida + Euro.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
%
% (6) /Euro is assigned to 128, as in Windows ANSI
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /Euro /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: f7b6d320.enc
% Thomas Esser, Dec 2002. public domain
%
% Encoding for:
%     cmb10 cmbx10 cmbx12 cmbx5 cmbx6 cmbx7 cmbx8 cmbx9 cmbxsl10
%     cmdunh10 cmr10 cmr12 cmr17cmr6 cmr7 cmr8 cmr9 cmsl10 cmsl12 cmsl8
%     cmsl9 cmss10cmss12 cmss17 cmss8 cmss9 cmssbx10 cmssdc10 cmssi10
%     cmssi12 cmssi17 cmssi8cmssi9 cmssq8 cmssqi8 cmvtt10
%
/TeXf7b6d320Encoding [
/Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi /Omega
/ff /fi /fl /ffi /ffl /dotlessi /dotlessj /grave /acute /caron /breve
/macron /ring /cedilla /germandbls /ae /oe /oslash /AE /OE /Oslash
/suppress /exclam /quotedblright /numbersign /dollar /percent /ampersand
/quoteright /parenleft /parenright /asterisk /plus /comma /hyphen
/period /slash /zero /one /two /three /four /five /six /seven /eight
/nine /colon /semicolon /exclamdown /equal /questiondown /question /at
/A /B /C /D /E /F /G /H /I /J /K /L /M /N /O /P /Q /R /S /T /U /V /W /X
/Y /Z /bracketleft /quotedblleft /bracketright /circumflex /dotaccent
/quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o /p /q /r /s /t /u
/v /w /x /y /z /endash /emdash /hungarumlaut /tilde /dieresis /suppress
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /space
/Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi /.notdef
/.notdef /Omega /ff /fi /fl /ffi /ffl /dotlessi /dotlessj /grave /acute
/caron /breve /macron /ring /cedilla /germandbls /ae /oe /oslash /AE
/OE /Oslash /suppress /dieresis /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
] def

%%EndProcSet
%%BeginProcSet: bbad153f.enc
% Thomas Esser, Dec 2002. public domain
%
% Encoding for:
%     cmsy10 cmsy5 cmsy6 cmsy7 cmsy8 cmsy9
%
/TeXbbad153fEncoding [
/minus /periodcentered /multiply /asteriskmath /divide /diamondmath
/plusminus /minusplus /circleplus /circleminus /circlemultiply
/circledivide /circledot /circlecopyrt /openbullet /bullet
/equivasymptotic /equivalence /reflexsubset /reflexsuperset /lessequal
/greaterequal /precedesequal /followsequal /similar /approxequal
/propersubset /propersuperset /lessmuch /greatermuch /precedes /follows
/arrowleft /arrowright /arrowup /arrowdown /arrowboth /arrownortheast
/arrowsoutheast /similarequal /arrowdblleft /arrowdblright /arrowdblup
/arrowdbldown /arrowdblboth /arrownorthwest /arrowsouthwest /proportional
/prime /infinity /element /owner /triangle /triangleinv /negationslash
/mapsto /universal /existential /logicalnot /emptyset /Rfractur /Ifractur
/latticetop /perpendicular /aleph /A /B /C /D /E /F /G /H /I /J /K
/L /M /N /O /P /Q /R /S /T /U /V /W /X /Y /Z /union /intersection
/unionmulti /logicaland /logicalor /turnstileleft /turnstileright
/floorleft /floorright /ceilingleft /ceilingright /braceleft /braceright
/angbracketleft /angbracketright /bar /bardbl /arrowbothv /arrowdblbothv
/backslash /wreathproduct /radical /coproduct /nabla /integral
/unionsq /intersectionsq /subsetsqequal /supersetsqequal /section
/dagger /daggerdbl /paragraph /club /diamond /heart /spade /arrowleft
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/minus /periodcentered /multiply /asteriskmath /divide /diamondmath
/plusminus /minusplus /circleplus /circleminus /.notdef /.notdef
/circlemultiply /circledivide /circledot /circlecopyrt /openbullet
/bullet /equivasymptotic /equivalence /reflexsubset /reflexsuperset
/lessequal /greaterequal /precedesequal /followsequal /similar
/approxequal /propersubset /propersuperset /lessmuch /greatermuch
/precedes /follows /arrowleft /spade /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
] def

%%EndProcSet
%%BeginProcSet: aae443f0.enc
% Thomas Esser, Dec 2002. public domain
%
% Encoding for:
%     cmmi10 cmmi12 cmmi5 cmmi6 cmmi7 cmmi8 cmmi9 cmmib10
%
/TeXaae443f0Encoding [
/Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi /Omega
/alpha /beta /gamma /delta /epsilon1 /zeta /eta /theta /iota /kappa
/lambda /mu /nu /xi /pi /rho /sigma /tau /upsilon /phi /chi /psi
/omega /epsilon /theta1 /pi1 /rho1 /sigma1 /phi1 /arrowlefttophalf
/arrowleftbothalf /arrowrighttophalf /arrowrightbothalf /arrowhookleft
/arrowhookright /triangleright /triangleleft /zerooldstyle /oneoldstyle
/twooldstyle /threeoldstyle /fouroldstyle /fiveoldstyle /sixoldstyle
/sevenoldstyle /eightoldstyle /nineoldstyle /period /comma /less /slash
/greater /star /partialdiff /A /B /C /D /E /F /G /H /I /J /K /L /M /N
/O /P /Q /R /S /T /U /V /W /X /Y /Z /flat /natural /sharp /slurbelow
/slurabove /lscript /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o /p
/q /r /s /t /u /v /w /x /y /z /dotlessi /dotlessj /weierstrass /vector
/tie /psi /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/space /Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi
/.notdef /.notdef /Omega /alpha /beta /gamma /delta /epsilon1 /zeta /eta
/theta /iota /kappa /lambda /mu /nu /xi /pi /rho /sigma /tau /upsilon
/phi /chi /psi /tie /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]FontType 0
ne{/Metrics exch def dict begin Encoding{exch dup type/integertype ne{
pop pop 1 sub dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get
div def}ifelse}forall Metrics/Metrics currentdict end def}{{1 index type
/nametype eq{exit}if exch pop}loop}ifelse[2 index currentdict end
definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{dup
sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1 roll
mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def dup[
exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}if}
forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}def
end

%%EndProcSet
%%BeginFont: CMMI10
%!PS-AdobeFont-1.1: CMMI10 1.100
%%CreationDate: 1996 Jul 23 07:53:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.100) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMMI10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.04 def
/isFixedPitch false def
end readonly def
/FontName /CMMI10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-32 -250 1048 750}readonly def
/UniqueID 5087385 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA0529731C99A784CCBE85B4993B2EEBDE
3B12D472B7CF54651EF21185116A69AB1096ED4BAD2F646635E019B6417CC77B
532F85D811C70D1429A19A5307EF63EB5C5E02C89FC6C20F6D9D89E7D91FE470
B72BEFDA23F5DF76BE05AF4CE93137A219ED8A04A9D7D6FDF37E6B7FCDE0D90B
986423E5960A5D9FBB4C956556E8DF90CBFAEC476FA36FD9A5C8175C9AF513FE
D919C2DDD26BDC0D99398B9F4D03D5993DFC0930297866E1CD0A319B6B1FD958
9E394A533A081C36D456A09920001A3D2199583EB9B84B4DEE08E3D12939E321
990CD249827D9648574955F61BAAA11263A91B6C3D47A5190165B0C25ABF6D3E
6EC187E4B05182126BB0D0323D943170B795255260F9FD25F2248D04F45DFBFB
DEF7FF8B19BFEF637B210018AE02572B389B3F76282BEB29CC301905D388C721
59616893E774413F48DE0B408BC66DCE3FE17CB9F84D205839D58014D6A88823
D9320AE93AF96D97A02C4D5A2BB2B8C7925C4578003959C46E3CE1A2F0EAC4BF
8B9B325E46435BDE60BC54D72BC8ACB5C0A34413AC87045DC7B84646A324B808
6FD8E34217213E131C3B1510415CE45420688ED9C1D27890EC68BD7C1235FAF9
1DAB3A369DD2FC3BE5CF9655C7B7EDA7361D7E05E5831B6B8E2EEC542A7B38EE
03BE4BAC6079D038ACB3C7C916279764547C2D51976BABA94BA9866D79F13909
95AA39B0F03103A07CBDF441B8C5669F729020AF284B7FF52A29C6255FCAACF1
74109050FBA2602E72593FBCBFC26E726EE4AEF97B7632BC4F5F353B5C67FED2
3EA752A4A57B8F7FEFF1D7341D895F0A3A0BE1D8E3391970457A967EFF84F6D8
47750B1145B8CC5BD96EE7AA99DDC9E06939E383BDA41175233D58AD263EBF19
AFC0E2F840512D321166547B306C592B8A01E1FA2564B9A26DAC14256414E4C8
42616728D918C74D13C349F4186EC7B9708B86467425A6FDB3A396562F7EE4D8
40B43621744CF8A23A6E532649B66C2A0002DD04F8F39618E4F572819DD34837
B5A08E643FDCA1505AF6A1FA3DDFD1FA758013CAED8ACDDBBB334D664DFF5B53
95601766777978D01677B8D19E1B10A078432D2884BB4F7B8C3293B68BB78100
16724E495064BA0168CC86D413CB48560D6D318357397832F7A858CD82030C7D
8A4A1919716E8B26AFF8789AAF489EE4E0A88DC477551A87C7DF2856189E4596
FE015956AFE5CC019F5CA6323A12B763B7B08B92C1A2940D3C566C43729E5482
63C6DC5E834AEB4DAFB5AE8F0B8931A4687C94D11587B9071C8D81DA14F12776
53A1985A3EBE37827656BD4635E03F09C3231F906874645E7DB3E59045A59D67
E745D8487CF73FC50F64060544F624F357BC998A87FBE468DEBB38A09449EBCA
D041D7C29225ACD16CB8A59E87924D15A9125F064710A6CCCA3AD3103D8FCC94
CC3571C6F9192774FCFE5BB42A14B27960903144D28BF047BF4C77646EA7BF6F
440D4EDEB712C63F2E8080419E42D1D58EED685EB5CDD49F80DB6E5553B519FA
C6A39A093155802F3EC607721F390307E91ECB597ABA60A537E3F8C045BF5DD3
D88CF6518D37FCD95D2F295D902D617440D23516D962F47750A682A319ACE1
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
/UniqueID 5000820 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D31FF2B87F97C73D63EECDDA4C49501773468A
27D1663E0B62F461F6E40A5D6676D1D12B51E641C1D4E8E2771864FC104F8CBF
5B78EC1D88228725F1C453A678F58A7E1B7BD7CA700717D288EB8DA1F57C4F09
0ABF1D42C5DDD0C384C7E22F8F8047BE1D4C1CC8E33368FB1AC82B4E96146730
DE3302B2E6B819CB6AE455B1AF3187FFE8071AA57EF8A6616B9CB7941D44EC7A
71A7BB3DF755178D7D2E4BB69859EFA4BBC30BD6BB1531133FD4D9438FF99F09
4ECC068A324D75B5F696B8688EEB2F17E5ED34CCD6D047A4E3806D000C199D7C
515DB70A8D4F6146FE068DC1E5DE8BC57033D79919697C81395D5B94C3AAAB11
52D7393B7810FB3A048DB26F99398B6402C264B13FEFEE92BA387801BC9699A2
E43D69AAA3CB2DD7C81617501B0618651E0850CB5C173082CDC1D1372741FC2E
7AB2116FB69984ECBCE8EC5515E9F234C273AEB8F9C222E448AF3CCDC35A428F
9A267F67CAD67819A64BB630671647A63A11636808CB93ADF3D6833ABBA85CD1
B9C0C37370FCEC157D06072F9E783EEBFA8F2322912210FA9669F870FEA1DEE3
0E5A8A230609D077AF8FF69E4915D3918778846363DD98E76B0A64AA884D759A
18068F08DFCDAC51EC16C3557D73FBFEFE893F2CEE353183BC8767C4FB5B259D
8E8052ECB97B25570A07136013C072DE083CFFF01DBE2C4D4DC3506AE677B87D
22047CF66F24DC46EA5787F850233595CE10A4085D40498064D5309D7DCBCF43
BDB7B1CCFF0D4D1635F8234545E9C12062CE60D235F44328A4C56804977793CF
5FB9BB31EB1721A6B6039FEB7A13225B1B2D3924E61365F3EF20BBFB79D75B84
E0F5AC513CC4CB459DA29AAC0467116822CDD97D23F22D229C7F622CF5775779
51C2F1070743D9DA737FCCB558F47F674A594AEF6DE05C496239B397B15D3130
38328DB1D00C1575271024486754845AA7CEC9179F4F7DB3C74C276008DF0569
DA697985B569658784366E7D18D1E7ADEECF2C2E90E138C38D5D4FA2B2076517
6031A5D9BC8EF30525C255D6A0304097E0F9F686FEE3E0A6C6B62EEB4DC6E25F
C5C224555C057CA7DA3F16B0371EE30C195219436E860AA98BB2B08218C73BD4
5C6653C74AF1951632E4B7E67902E55B197DB76AB75140754AEFA49F15BFA3C2
A99485EA437AA7F091172928345616D01C54B8FCCC861491304040FE12F453EF
CD69E1DA51AD05C811F4E82485866674413C4CF288C31EB281E0F102A41069CC
C2729313A7C3B61F89E41298E97126E42E927B727E48F8BEDAE7E268F8124431
A5B9CB2226614ABB613E766030F01115B9A4D58FAA6C6D2A59F44AB2555E595A
D2B9DA418E0E8104E52F50ECC65A244B6D042654870AC34E76D2450E5D3167E2
92E9A1C799F462705617181FD29326C6AC2F5F062C409D2359F239CBE402C1CD
2A74D9FA86079D9FE49EEADBD5EEB4941A68A808B433F372CC9ED578FC8676B7
6B91848E2D93E7E9B7367C63783F5D4BDF0F746AB838745EF04425F8E8611C50
BAD150C9B9
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMR10
%!PS-AdobeFont-1.1: CMR10 1.00B
%%CreationDate: 1992 Feb 19 19:54:52
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.00B) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-251 -250 1009 969}readonly def
/UniqueID 5000793 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF7158F1163BC1F3352E22A1452E73FECA8A4
87100FB1FFC4C8AF409B2067537220E605DA0852CA49839E1386AF9D7A1A455F
D1F017CE45884D76EF2CB9BC5821FD25365DDEA6E45F332B5F68A44AD8A530F0
92A36FAC8D27F9087AFEEA2096F839A2BC4B937F24E080EF7C0F9374A18D565C
295A05210DB96A23175AC59A9BD0147A310EF49C551A417E0A22703F94FF7B75
409A5D417DA6730A69E310FA6A4229FC7E4F620B0FC4C63C50E99E179EB51E4C
4BC45217722F1E8E40F1E1428E792EAFE05C5A50D38C52114DFCD24D54027CBF
2512DD116F0463DE4052A7AD53B641A27E81E481947884CE35661B49153FA19E
0A2A860C7B61558671303DE6AE06A80E4E450E17067676E6BBB42A9A24ACBC3E
B0CA7B7A3BFEA84FED39CCFB6D545BB2BCC49E5E16976407AB9D94556CD4F008
24EF579B6800B6DC3AAF840B3FC6822872368E3B4274DD06CA36AF8F6346C11B
43C772CC242F3B212C4BD7018D71A1A74C9A94ED0093A5FB6557F4E0751047AF
D72098ECA301B8AE68110F983796E581F106144951DF5B750432A230FDA3B575
5A38B5E7972AABC12306A01A99FCF8189D71B8DBF49550BAEA9CF1B97CBFC7CC
96498ECC938B1A1710B670657DE923A659DB8757147B140A48067328E7E3F9C3
7D1888B284904301450CE0BC15EEEA00E48CCD6388F3FC3C8578EF9A20A0E06E
4F7ADDAF0E7D1E182D115BF1AD931977325AD391E72E2B13CC108E3726C11099
E2000623188AAAC9F3E233EB253BDD8B0A4759A66A113E066238B0086AC1B634
5ABFF90E4B5ED3FA69C22541981B2BFC9710AEF6B50A8BB53431C7B4D380D721
639E005D6B4688EE16BFF48443E7C9E5FB5BC5883E271CB0342893C0BBC0A879
B7220832FB50103F72F8B5D986B7619683B3BE2BBEFDBCE02277C601A977C3CC
A643D219A9074AFFAEACE5CF1E007DF84E7B0634F5FF6824D3ABC3CE1259C2F8
0D023DBDD4DD06EF96751AA97695823E5E8FEA5C526B78059E57293164FF5B4E
452ABA970DE4680E0170CBD232901F175DD37779D63BC85BA1450F2A6C3E62D4
6636A59DBA0BE8DECA24B77DB2A60676CF6146666094BA9F805E7BE295BCC02C
7422EC734C49DC0529F6829881A0855596C8F17F089A9D8EF68BD3FBE9BBC987
674637AA811D0E4653E7E044EF655B9CC90912236F4B78C01ECA4EBE3E0AF090
688571B045A62D267FF554E63D810B2491CB
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
TeXDict begin 39158280 55380996 1000 600 600 (doc.dvi)
@start /Fa 193[61 1[61 60[{ TeXaae443f0Encoding ReEncodeFont }2
77.8574 /CMMI10 rf /Fc 161[35 94[{ TeXbbad153fEncoding ReEncodeFont }1
51.905 /CMSY10 rf /Fd 135[60 7[66 9[40 102[{
 TeXBase1Encoding ReEncodeFont }3 119.552 /Palatino-BoldItalic
rf /Fe 103[42 29[42 2[42 1[42 42 42 42 1[42 42 42 42
1[42 1[42 42 42 42 42 42 42 1[42 16[42 14[42 6[42 10[42
42 42 45[{ .85 ExtendFont TeXBase1Encoding ReEncodeFont }26
83.022 /Courier rf /Fg 133[60 1[60 100 1[73 40 53 47
1[73 66 73 106 40 2[40 73 66 47 60 73 53 1[60 12[80 1[86
1[73 100 5[47 2[66 3[80 93 12[60 60 60 60 3[40 45[{
 TeXBase1Encoding ReEncodeFont }33 119.552 /Palatino-Bold
rf /Fh 138[51 2[32 5[28 2[28 1[46 1[42 2[51 42 12[55
13[46 11[21 6[42 42 42 49[{ TeXBase1Encoding ReEncodeFont }14
83.022 /Palatino-Bold rf /Fi 149[22 64[78 7[78 29[39
3[{ TeXbbad153fEncoding ReEncodeFont }4 77.8574 /CMSY10
rf /Fj 194[61 61[{ TeXf7b6d320Encoding ReEncodeFont }1
77.8574 /CMR10 rf /Fl 134[42 42 58 42 46 25 42 29 1[46
46 46 1[21 2[21 46 46 25 42 46 42 1[42 14[54 2[58 10[54
68[{ TeXBase1Encoding ReEncodeFont }23 74.7198 /Helvetica-Bold
rf /Fm 107[25 26[37 37 54 37 42 21 37 25 1[42 42 42 62
17 37 1[17 42 42 21 42 42 37 42 42 3[21 1[21 2[50 71
50 54 46 50 54 1[50 58 54 62 42 2[21 54 58 46 50 54 54
50 50 6[21 1[42 42 42 42 2[42 1[42 1[21 1[21 2[25 25
17 36[37 2[{ TeXBase1Encoding ReEncodeFont }60 74.7198
/Helvetica rf /Fn 171[41 6[63 41 3[55 72[{
 TeXBase1Encoding ReEncodeFont }4 66.4176 /Palatino-Roman
rf /Fo 133[37 1[42 2[46 28 32 32 1[42 37 46 1[23 37 1[23
42 1[23 32 42 34 1[37 51[28 42[44 2[{ TeXBase1Encoding ReEncodeFont }20
83.022 /Palatino-Italic rf /Fp 105[42 27[42 46 43 69
47 50 27 35 33 46 50 45 48 73 24 46 1[24 48 46 28 40
51 37 46 42 3[28 1[28 2[55 83 1[65 51 44 55 65 50 65
69 79 51 2[28 69 1[46 51 64 59 1[65 5[21 21 1[42 42 42
42 42 42 42 42 42 1[21 28 21 4[23 35[50 50 2[{
 TeXBase1Encoding ReEncodeFont }64 83.022 /Palatino-Roman
rf /Fq 135[72 7[72 9[40 102[{ TeXBase1Encoding ReEncodeFont }3
143.462 /Palatino-Italic rf /Fr 139[47 1[57 1[86 78 83
127 42 2[42 1[80 48 69 1[64 1[72 16[87 6[48 7[112 65[{
 TeXBase1Encoding ReEncodeFont }16 143.462 /Palatino-Roman
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: a4
a4
%%EndPaperSize
 end
%%EndSetup
%%Page: 1 1
TeXDict begin 1 0 bop 528 880 a Fr(Application)35 b(Pr)m(ogramming)g
(Interface)g(for)g Fq(fxp)573 1483 y Fp(The)22 b(following)h(is)g
(basically)e(an)h(excerpt)f(fr)o(om)h(Andr)o(eas)e(Neumann's)j(Ph.D.)f
(The-)448 1583 y(sis)g([1)o(],)e(Chapter)g(2,)g(Section8.)573
1758 y(The)k Fo(fxp)p Fp('s)f(application)h(interface)f(is)h(a)g
(functional)g(variant)f(of)h(an)g(event-based)e(in-)448
1858 y(terface)d(that)i(vitally)g(r)o(elies)f(on)k(S)t
Fn(M)t(L)r Fp('s)c(parametrized)e(modules)k(for)e(customization.)573
1958 y(The)d(application)h(de\002nes)f(a)g(data)g(type)g
Fm(AppData)e Fp(r)o(epr)o(esenting)i(the)h(part)e(of)i(its)g(state)448
2057 y(af)o(fected)28 b(by)j(the)g(event)f(handlers.)55
b(W)-8 b(e)30 b(call)h(this)g(information)g(the)g Fo(application)e
(data)p Fp(.)448 2157 y(During)21 b(parsing,)g(a)f(value)f(of)i(this)g
(type)f(is)h(maintained)f(by)g(the)h(parser)-6 b(.)24
b(Upon)d(trigger)o(-)448 2256 y(ing)26 b(an)f(event,)h(the)g(event)f
(handler)f(r)o(eceives)g(the)i(application)f(data)f(as)h(an)g
(additional)448 2356 y(parameter)30 b(and)g(r)o(eturns)h(it)g(\226)g
(possibly)h(modi\002ed)g(\226)e(to)i(the)f(parser)-6
b(.)55 b(The)31 b(modi\002ed)448 2456 y(application)24
b(data)g(is)g(then)h(an)f(ar)o(gument)g(to)h(the)f(next)g(event,)h(and)
f(so)h(forth.)36 b(In)25 b(or)o(der)448 2555 y(to)g(distinguish)g(this)
g(kind)g(of)f(event)f(handlers)h(fr)o(om)g(the)g(imperative)g(variant)f
(we)h(call)448 2655 y(them)18 b Fo(hooks)p Fp(.)24 b(The)18
b(ef)o(fects)e(of)i(all)f(hooks)i(ar)o(e)d(thus)j(accumulated)d(into)j
(one)f(value)f(of)h(type)448 2755 y Fm(AppData)n Fp(.)573
2854 y(In)25 b(or)o(der)g(to)g(implement)i(hooks)f(in)g
Fo(fxp)p Fp(,)f(the)h(parser)e(must)i(be)f(pr)o(ovided)f(with)i(the)448
2954 y(type)h(of)g(the)g(application)g(data)f(and)h(with)h(the)f
(functions)h(implementing)g(the)f(hooks.)448 3053 y(The)35
b(easiest)f(way)g(of)h(doing)g(so)g(is)g(to)g(pack)f(them)h(into)g(a)f
(str)o(uctur)o(e)g Fm(Hooks)p Fp(,)k(ful\002ll-)448 3153
y(ing)28 b(the)f(signatur)o(e)g(in)h(Figur)o(e)54 b(1.)44
b(The)27 b(purposes)g(of)g(the)h(single)g(hooks)g(ar)o(e)e(listed)h(in)
448 3253 y(T)-8 b(able1.)30 b(A)22 b(hook)i(expects)e(as)g(ar)o(gument)
g(the)h(curr)o(ent)f(application)g(data)f(and)h(\226)g(except)448
3352 y(for)28 b Fm(hookFinish)d Fp(\226)j(the)g(information)h
(belonging)g(to)f(the)g(signaled)g(event,)i(and)d(r)o(eturns)448
3452 y(the)21 b(modi\002ed)g(application)g(data.)573
3552 y(The)27 b(data)e(types)i(pr)o(oviding)g(the)g(event-speci\002c)f
(information)i(passed)e(to)h(a)f(hook)448 3651 y(ar)o(e)c(de\002ned)g
(by)h(str)o(uctur)o(e)f Fm(HookData)n Fp(.)32 b(Each)22
b(information)i(item)f(contains)h(at)e(least)g(the)448
3751 y(position)i(in)e(the)g(document)g(wher)o(e)g(the)g(event)f
(occurr)o(ed;)g(for)h(some)g(events)g(even)g(two)448
3850 y(positions)h(ar)o(e)d(speci\002ed:)26 b(a)20 b(start)h(position)i
(and)e(an)g(end)g(position.)28 b(E.g.,)20 b(type)h Fm(ErrorInf)n(o)448
3950 y Fp(describes)26 b(an)g(err)o(or)g(by)g(means)h(of)f(its)h
(position)h(and)e(an)g(err)o(or)g(description.)42 b(A)26
b(start-)448 4050 y(tag)e(is)g(described)f(by)h(the)g(positions)h(of)f
(its)g(\002rst)g(and)g(last)f(character)-6 b(,)23 b(the)h(index)g(of)f
(the)448 4149 y(element,)32 b(the)f(list)f(of)g(attribute)f
(speci\002cations)i(the)f(eventual)g(spaces)f(following)i(the)448
4249 y(element)d(name)f(and)h(a)f(boolean)h(\003ag,)h(indicating)f
(whether)g(it)f(is)h(an)g(empty-element)448 4349 y(tag:)656
4482 y Fl(type)19 b Fm(ErrorInf)n(o)28 b Fj(=)h Fm(Errors)o(.P)l
(osition)e Fi(\003)j Fm(Errors)o(.Error)656 4574 y Fl(type)19
b Fm(Star)s(tT)-9 b(agInf)n(o)26 b Fj(=)k Fm(Star)s(tEnd)d
Fi(\003)j Fm(int)f Fi(\003)h Fm(AttSpecList)e Fi(\003)i
Fm(UniChar)l(.Data)d Fi(\003)i Fm(bool)573 4716 y Fp(The)24
b(information)i(set)f(pr)o(ovided)e(thr)o(ough)i Fo(fxp)p
Fp('s)f(hooks)i(is)f(suf)o(\002cient)f(for)h(pr)o(oduc-)448
4815 y(ing)j(a)e(character)o(-by-character)d(identical)k(copy)g(of)g
(the)g(document)g(instance.)44 b(Except)448 4915 y(for)18
b(white)g(space)f(and)g(parameter)g(entity)h(r)o(efer)o(ences)d(within)
k(declarations,)f(this)g(is)g(also)448 5015 y(possible)k(for)e(the)h
(DTD.)573 5114 y(In)j(addition)g(to)g(type)g Fm(AppData)n
Fp(,)g(a)g Fm(Hooks)f Fp(str)o(uctur)o(e)h(must)g(de\002ne)g(a)f(type)h
Fm(AppFinal)m Fp(.)448 5214 y(This)18 b(type)f(is)h(the)f(r)o(esult)g
(type)g(of)h(the)f(parser:)23 b(At)17 b(the)g(end)g(of)h(the)f
(document,)h(the)g(parser)448 5313 y(calls)e Fm(hookFinish)e
Fp(in)i(or)o(der)g(to)g Fo(\002nalize)g Fp(the)h(accumulated)e
(application)h(data.)23 b(This)16 b(is)h(use-)448 5413
y(ful)23 b(because)e(values)h(of)g(type)g Fm(AppData)e
Fp(often)j(contain)g(auxiliary)e(information:)30 b(E.g.,)22
b(if)1860 5662 y(1)p eop end
%%Page: 2 2
TeXDict begin 2 1 bop 448 452 2865 4 v 448 3141 4 2690
v 515 582 a Fl(signature)18 b Fm(Hooks)30 b Fj(=)622
673 y Fl(sig)729 765 y(type)20 b Fm(AppData)729 856 y
Fl(type)g Fm(AppFinal)729 986 y Fl(v)o(al)f Fm(hookError)177
b(:)25 b(AppData)j Fi(\003)i Fm(HookData.ErrorInf)n(o)183
b Fi(!)30 b Fm(AppData)729 1078 y Fl(v)o(al)19 b Fm(hookW)m(ar)r(ning)
64 b(:)25 b(AppData)j Fi(\003)i Fm(HookData.W)m(ar)r(ningInf)n(o)70
b Fi(!)30 b Fm(AppData)729 1208 y Fl(v)o(al)19 b Fm(hookStar)s(tT)-9
b(ag)61 b(:)25 b(AppData)j Fi(\003)i Fm(HookData.Star)s(tT)-9
b(agInf)n(o)67 b Fi(!)30 b Fm(AppData)729 1299 y Fl(v)o(al)19
b Fm(hookEndT)-9 b(ag)89 b(:)25 b(AppData)j Fi(\003)i
Fm(HookData.EndT)-9 b(agInf)n(o)95 b Fi(!)30 b Fm(AppData)729
1430 y Fl(v)o(al)19 b Fm(hookData)185 b(:)25 b(AppData)j
Fi(\003)i Fm(HookData.DataInf)n(o)191 b Fi(!)30 b Fm(AppData)729
1521 y Fl(v)o(al)19 b Fm(hookCData)131 b(:)25 b(AppData)j
Fi(\003)i Fm(HookData.CDataInf)n(o)137 b Fi(!)30 b Fm(AppData)729
1612 y Fl(v)o(al)19 b Fm(hookCharRef)64 b(:)25 b(AppData)j
Fi(\003)i Fm(HookData.CharRefInf)n(o)70 b Fi(!)30 b Fm(AppData)729
1743 y Fl(v)o(al)19 b Fm(hookProcInst)69 b(:)25 b(AppData)j
Fi(\003)i Fm(HookData.ProcInstInf)n(o)75 b Fi(!)30 b
Fm(AppData)729 1834 y Fl(v)o(al)19 b Fm(hookComment)g(:)25
b(AppData)j Fi(\003)i Fm(HookData.CommentInf)n(o)25 b
Fi(!)30 b Fm(AppData)729 1926 y Fl(v)o(al)19 b Fm(hookWhite)151
b(:)25 b(AppData)j Fi(\003)i Fm(HookData.WhiteInf)n(o)157
b Fi(!)30 b Fm(AppData)729 2017 y Fl(v)o(al)19 b Fm(hookDecl)194
b(:)25 b(AppData)j Fi(\003)i Fm(HookData.DeclInf)n(o)200
b Fi(!)30 b Fm(AppData)729 2147 y Fl(v)o(al)19 b Fm(hookDocT)-9
b(ype)53 b(:)25 b(AppData)j Fi(\003)i Fm(HookData.DtdInf)n(o)233
b Fi(!)30 b Fm(AppData)729 2239 y Fl(v)o(al)19 b Fm(hookSubset)110
b(:)25 b(AppData)j Fi(\003)i Fm(HookData.SubsetInf)n(o)116
b Fi(!)30 b Fm(AppData)729 2330 y Fl(v)o(al)19 b Fm(hookExtSubset)t(:)k
(AppData)28 b Fi(\003)i Fm(HookData.ExtSubsetInf)n(o)13
b Fi(!)25 b Fm(AppData)729 2421 y Fl(v)o(al)19 b Fm(hookEndDtd)93
b(:)25 b(AppData)j Fi(\003)i Fm(HookData.EndDtdInf)n(o)99
b Fi(!)30 b Fm(AppData)729 2552 y Fl(v)o(al)19 b Fm(hookGenRef)85
b(:)25 b(AppData)j Fi(\003)i Fm(HookData.GenRefInf)n(o)91
b Fi(!)30 b Fm(AppData)729 2643 y Fl(v)o(al)19 b Fm(hookP)m(arRef)113
b(:)25 b(AppData)j Fi(\003)i Fm(HookData.P)m(arRefInf)n(o)119
b Fi(!)30 b Fm(AppData)729 2734 y Fl(v)o(al)19 b Fm(hookEntEnd)97
b(:)25 b(AppData)j Fi(\003)i Fm(HookData.EntEndInf)n(o)103
b Fi(!)30 b Fm(AppData)729 2865 y Fl(v)o(al)19 b Fm(hookXml)215
b(:)25 b(AppData)j Fi(\003)i Fm(HookData.XmlInf)n(o)221
b Fi(!)30 b Fm(AppData)729 2956 y Fl(v)o(al)19 b Fm(hookFinish)143
b(:)25 b(AppData)926 b Fi(!)30 b Fm(AppFinal)622 3047
y Fl(end)p 3309 3141 V 448 3144 2865 4 v 1315 3246 a
Fh(Figure)20 b(1:)g Fp(The)h Fm(Hooks)g Fp(signatur)o(e.)p
448 3290 V 448 3456 a(an)28 b(application)h(collects)f(information)i
(fr)o(om)d(the)i(document)g(entity,)h(it)f(must)g(ignor)o(e)448
3555 y(all)20 b(events)h(occurring)g(within)g(entity)g(r)o(eplacement)e
(texts.)25 b(For)c(this)g(r)o(eason,)f(the)g(hooks)448
3655 y(might)27 b(maintain)g(a)f(counter)g(indicating)g(the)h(nesting)g
(depth)f(of)g(included)g(entity)g(r)o(ef-)448 3755 y(er)o(ences.)j
Fm(hookFinish)19 b Fp(then)k(r)o(emoves)e(this)i(counter)f(because)g
(it)g(is)g(of)g(no)h(inter)o(est)f(to)g(the)448 3854
y(application.)39 b(Another)26 b(example)e(for)h(the)h(bene\002ts)f(of)
h(\002nalization)f(is)h(the)f(following:)448 3954 y(An)j(application)g
(might)h(collect)f(section)g(titles)g(in)h(or)o(der)d(to)j(compile)f(a)
f(table)h(of)f(con-)448 4054 y(tents.)k(Since)23 b(the)f(application)h
(data)e(is)i(an)f(accumulating)g(parameter,)g(these)g(titles)h(ar)o(e)
448 4153 y(collected)i(in)g(r)o(everse)e(or)o(der)-6
b(.)37 b Fm(AppFinal)21 b Fp(can)k(be)f(used)h(for)f(r)o(eestablishing)
h(the)g(original)448 4253 y(or)o(der)-6 b(.)448 4539
y Fg(1)120 b(Functorizing)30 b(the)f(Parser)448 4728
y Fp(The)i(parser)e(is)i(ther)o(efor)o(e)e(implemented)i(as)f(an)j(S)t
Fn(M)t(L)f Fo(functor)p Fp(,)h(expecting)d(the)h Fm(Hooks)448
4827 y Fp(str)o(uctur)o(e)24 b(as)g(ar)o(gument.)35 b(The)24
b(application)g(can)g(then)h(generate)e(several)g(instances)i(of)448
4927 y(the)g(parser)e(for)h(dif)o(fer)o(ent)f(purposes.)36
b(In)25 b(addition)f(to)h(the)f(hooks,)j(the)d(parser)g(functor)448
5027 y(is)d(parametrized)e(with)j(thr)o(ee)e(other)h(str)o(uctur)o(es:)
448 5193 y Fl(Options)o Fh(:)41 b Fp(This)19 b(str)o(uctur)o(e)g
(supplies)g(the)h(parser)e(with)h(its)h(options.)26 b(It)19
b(is)h(useful)f(to)g(have)656 5292 y(each)30 b(instance)h(of)g(the)g
(parser)f(r)o(un)h(with)h(its)f(own)h(set)f(of)g(options:)47
b(E.g.,)34 b(X)t Fn(M)t(L)656 5392 y Fp(catalogs)25 b(fr)o(equently)h
(have)f(no)i(DTD.)40 b(Ther)o(efor)o(e)24 b(a)i(catalog)f(is)h(parsed)f
(in)h(non-)1860 5662 y(2)p eop end
%%Page: 3 3
TeXDict begin 3 2 bop 452 452 2857 4 v 450 551 4 100
v 1086 551 V 3305 551 V 450 573 V 519 543 a Fp(Hook)p
1086 573 V 432 w(X)t Fn(M)t(L)23 b Fp(Event)p 3305 573
V 452 576 2857 4 v 450 676 4 100 v 1086 676 V 3305 676
V 452 596 2857 4 v 450 696 4 100 v 1086 696 V 3305 696
V 450 718 V 519 688 a Fm(hookError)p 1086 718 V 305 w
Fp(err)o(or)p 3305 718 V 450 817 V 519 787 a Fm(hookW)m(ar)r(ning)p
1086 817 V 192 w Fp(warning)p 3305 817 V 452 821 2857
4 v 450 920 4 100 v 1086 920 V 3305 920 V 450 942 V 519
912 a Fm(hookStar)s(tT)-9 b(ag)p 1086 942 V 189 w Fp(start-tag)p
3305 942 V 450 1042 V 519 1012 a Fm(hookEndT)g(ag)p 1086
1042 V 217 w Fp(end-tag)p 3305 1042 V 452 1045 2857 4
v 450 1145 4 100 v 1086 1145 V 3305 1145 V 450 1166 V
519 1136 a Fm(hookData)p 1086 1166 V 313 w Fp(segment)21
b(of)g(character)e(data)p 3305 1166 V 450 1266 V 519
1236 a Fm(hookCData)p 1086 1266 V 259 w Fp(CDA)-6 b(T)g(A)20
b(section)p 3305 1266 V 450 1366 V 519 1336 a Fm(hookCharRef)p
1086 1366 V 192 w Fp(character)f(r)o(efer)o(ence)p 3305
1366 V 452 1369 2857 4 v 450 1468 4 100 v 1086 1468 V
3305 1468 V 450 1490 V 519 1460 a Fm(hookProcInst)p 1086
1490 V 197 w Fp(pr)o(ocessing)i(instr)o(uction)p 3305
1490 V 450 1590 V 519 1560 a Fm(hookComment)p 1086 1590
V 147 w Fp(comment)p 3305 1590 V 450 1690 V 519 1660
a Fm(hookDecl)p 1086 1690 V 322 w Fp(element,)g(attribute,)f(notation)h
(or)g(entity)h(declaration)p 3305 1690 V 452 1693 2857
4 v 450 1792 4 100 v 1086 1792 V 3305 1792 V 450 1814
V 519 1784 a Fm(hookDocT)-9 b(ype)p 1086 1814 V 181 w
Fp(start)20 b(of)h(the)g(DTD)p 3305 1814 V 450 1914 V
519 1884 a Fm(hookSubset)p 1086 1914 V 238 w Fp(start)f(of)h(the)g
(internal)g(subset)p 3305 1914 V 450 2013 V 519 1984
a Fm(hookExtSubset)p 1086 2013 V 130 w Fp(start)f(of)h(the)g(external)f
(subset)p 3305 2013 V 450 2113 V 519 2083 a Fm(hookEndDtd)p
1086 2113 V 221 w Fp(end)h(of)f(the)h(DTD)p 3305 2113
V 452 2116 2857 4 v 450 2216 4 100 v 1086 2216 V 3305
2216 V 450 2238 V 519 2208 a Fm(hookGenRef)p 1086 2238
V 213 w Fp(general)f(entity)i(r)o(efer)o(ence)p 3305
2238 V 450 2337 V 519 2308 a Fm(hookP)m(arRef)p 1086
2337 V 241 w Fp(parameter)d(entity)i(r)o(efer)o(ence)p
3305 2337 V 450 2437 V 519 2407 a Fm(hookEntEnd)p 1086
2437 V 225 w Fp(end)g(of)f(an)h(included)f(entity)p 3305
2437 V 452 2440 2857 4 v 450 2540 4 100 v 1086 2540 V
3305 2540 V 450 2562 V 519 2532 a Fm(hookXml)p 1086 2562
V 343 w Fp(start)g(of)h(the)g(document)g(entity)p 3305
2562 V 450 2661 V 519 2631 a Fm(hookFinish)p 1086 2661
V 271 w Fp(end)g(of)f(the)h(document)p 3305 2661 V 452
2665 2857 4 v 1058 2767 a Fh(T)-9 b(able)19 b(1:)h Fp(The)h(hooks)h(in)
f Fo(fxp)f Fp(and)g(their)h(purposes.)p 448 2810 2865
4 v 448 2913 V 448 3777 4 864 v 515 3044 a Fl(funsig)e
Fm(P)m(arse)h(\()g Fl(structure)f Fm(Dtd)172 b(:)25 b(Dtd)1018
3135 y Fl(structure)19 b Fm(Hooks)77 b(:)25 b(Hooks)1018
3226 y Fl(structure)19 b Fm(Resolv)n(e)h(:)25 b(Resolv)n(e)1018
3318 y Fl(structure)19 b Fm(Options)30 b(:)25 b(Options)19
b(\))30 b Fj(=)622 3409 y Fl(sig)729 3500 y(v)o(al)19
b Fm(parseDocument)f(:)26 b(Ur)q(i.Ur)q(i)20 b(option)27
b Fi(!)j Fm(Dtd.Dtd)19 b(option)1456 3592 y Fi(!)30 b
Fm(Hooks)o(.AppData)d Fi(!)j Fm(Hooks)o(.AppFinal)622
3683 y Fl(end)p 3309 3777 V 448 3780 2865 4 v 1353 3882
a Fh(Figure)21 b(2:)f Fp(The)g Fm(P)m(arser)g Fp(functor)-6
b(.)p 448 3924 V 656 4090 a(validating)20 b(mode,)h(even)f(if)h(the)g
(main)g(document)g(is)g(validated.)448 4256 y Fl(Resolve)n
Fh(:)41 b Fp(This)34 b(str)o(uctur)o(e)g(pr)o(ovides)f(a)g(single)i
(function)f(for)g(r)o(esolving)g(an)f(external)656 4356
y(identi\002er)21 b(to)g(a)f(URI:)839 4514 y Fl(v)o(al)f
Fm(resolv)n(eExtId)g(:)25 b(Base)o(.Exter)r(nalId)h Fi(!)k
Fm(Ur)q(i.Ur)q(i)656 4680 y Fp(In)20 b(the)f(simplest)h(case)f(this)h
(function)g(r)o(eturns)f(the)h(system)g(identi\002er)f(that)h(is)f
(part)656 4779 y(of)25 b(the)g(external)g(identi\002er)-6
b(.)38 b(If)25 b(the)g(parser)f(supports)k(X)t Fn(M)t(L)f
Fp(catalogs,)f(however)-6 b(,)656 4879 y(this)21 b(is)g(the)g(function)
h(that)f(sear)o(ches)e(the)i(catalog.)448 5045 y Fl(Dtd)p
Fh(:)41 b Fp(The)29 b(implementation)h(of)f(the)g(DTD)g(tables)f(can)h
(be)f(pr)o(ovided)g(by)h(the)g(applica-)656 5145 y(tion.)d(In)19
b(most)i(cases)e(this)h(is)f(the)h Fm(Dtd)e Fp(str)o(uctur)o(e)h(pr)o
(ovided)g(by)g Fo(fxp)p Fp(,)f(but)i(the)f(appli-)656
5244 y(cation)25 b(can)f(also)h(pr)o(ovide)e(a)h(mor)o(e)g(ef)o
(\002cient)g(implementation,)i(or)f(enhance)f(the)656
5344 y(functionality)e(of)g(the)g(DTD)g(tables.)28 b(For)21
b(instance,)h(the)g(operations)g(on)g(the)g(DTD)1860
5662 y(3)p eop end
%%Page: 4 4
TeXDict begin 4 3 bop 656 531 a Fp(tables)21 b(might)h(be)e(wrapped)g
(into)i(functions)g(pr)o(oducing)f(debugging)g(or)h(statisti-)656
631 y(cal)c(information.)26 b(On)19 b(the)g(other)f(hand,)h(the)g
(application)f(can)h Fo(hard-code)d Fp(element)656 731
y(types)j(or)g(attributes)g(to)h(\002xed)e(indices.)25
b(E.g.,)19 b(in)h(or)o(der)e(to)h(collect)g Fe(href)i
Fp(attributes)656 830 y(in)h(an)i(X)t Fn(H)t(T)t(M)t(L)h
Fp(document,)d(one)h(might)g(use)f(the)g(following)h(implementation)h
(of)656 930 y(the)d Fm(Dtd)f Fp(ar)o(gument)g(str)o(uctur)o(e:)839
1088 y Fl(structure)e Fm(HrefDtd)29 b Fj(=)946 1179 y
Fl(struct)1053 1270 y(open)19 b Fm(Dtd)1053 1401 y Fl(v)o(al)g
Fm(hrefData)28 b Fj(=)h Fm(UniChar)l(.Str)q(ing2Data)16
b(\224href\224)1053 1531 y Fl(fun)k Fm(initDtdT)-9 b(ab)o(les)16
b(\(\))30 b Fj(=)1160 1622 y Fl(let)20 b(v)o(al)f Fm(dtd)29
b Fj(=)h Fm(Dtd.initDtdT)-9 b(ab)o(les\(\))1268 1714
y Fl(v)o(al)p 1391 1726 40 3 v 88 w Fj(=)30 b Fm(AttNot2Inde)n(x)17
b(dtd)j(hrefData)1160 1805 y Fl(in)g Fm(dtd)1160 1896
y Fl(end)1053 2027 y(v)o(al)f Fm(hrefIdx)29 b Fj(=)g
Fm(AttNot2Inde)n(x)17 b(\(initDtdT)-9 b(ab)o(les\(\)\))16
b(hrefData)946 2118 y Fl(end)656 2284 y Fp(A)21 b Fe(href)i
Fp(attribute)e(will)h(then)g(always)g(have)f(index)g
Fm(hrefIdx)n Fp(;)h(sear)o(ching)f(and)g(com-)656 2384
y(paring)37 b(can)h(be)f(done)h(with)h(this)f(constant)g(rather)f(than)
h(the)g(list)g(of)g(charac-)656 2483 y(ters)23 b Fm
([0wx68,0wx72,0wx65,)c(0wx66])p Fp(.)32 b(This)23 b(is)h(r)o(easonable)
e(also)h(because)f(element)656 2583 y(types)i(ar)o(e)g(passed)f(to)i
(the)g(hooks)h(by)e(means)h(of)f(their)h(indices)g(in)g(the)f(DTD,)h
(not)656 2683 y(by)c(their)g(names.)448 2849 y(The)32
b(signatur)o(e)g(of)g(the)h(parser)e(functor)h(is)h(given)f(in)h(Figur)
o(e)e(2.)60 b(It)32 b(de\002nes)g(a)g(single)448 2948
y(function)e Fm(parseDocument)c Fp(which,)31 b(given)e(an)f(optional)h
(URI)g(of)g(a)f(document)h(and)f(an)448 3048 y(optional)21
b(DTD,)f(parses)f(that)h(document)h(\226)e(if)h(no)g(URI)g(is)g(given,)
h(the)f(document)g(is)g(r)o(ead)448 3148 y(fr)o(om)k(the)h(standar)o(d)
e(input.)37 b(It)24 b(r)o(eturns)g(the)h(\002nalized)f(value)f(of)i
(the)f(application)h(data)448 3247 y(r)o(eceived)19 b(in)j(its)f(thir)o
(d)f(ar)o(gument,)g(modi\002ed)h(by)g(the)g(hooks)h(during)f(parsing.)
573 3347 y(If)16 b(the)h(optional)g Fm(Dtd)f Fp(ar)o(gument)g(is)h
(given)f(as)h Fm(NONE)p Fp(,)g(the)f(parser)g(initializes)g(the)h(DTD)
448 3446 y(tables)25 b(with)i(the)e Fm(initDtdT)-9 b(ab)o(les)21
b Fp(function.)40 b(In)26 b(this)g(case)f(hooks)i(have)e(no)h(access)f
(to)g(the)448 3546 y(DTD)19 b(because)d(it)i(is)h(not)f(pr)o(ovided)f
(as)g(an)h(ar)o(gument)f(to)h(them.)25 b(For)18 b(many)h(applications)
448 3646 y(this)24 b(is)f(not)g(necessary)f(indeed.)31
b(If)22 b(the)h(hooks)h(need)e(to)h(access)f(the)h(DTD,)g(the)g
(applica-)448 3745 y(tion)g(must)g(initialize)f(the)g(tables)f(itself,)
h(incorporate)g(them)g(into)h(the)f(application)g(data)448
3845 y(and)f(pass)f(them)h(to)h(the)e(parser)g(in)h(its)h
Fm(Dtd)e Fp(ar)o(gument.)448 4131 y Fg(2)120 b(Building)29
b(Applications)h(with)f Fd(fxp)448 4320 y Fo(fxp)22 b
Fp(pr)o(ovides)g(a)g(rich)h(information)h(set)f(thr)o(ough)g(its)g
(hooks)h(interface.)31 b(Many)22 b(applica-)448 4419
y(tions,)g(however)-6 b(,)20 b(ar)o(e)f(only)j(inter)o(ested)e(in)h(a)f
(subset)h(of)f(that)h(information:)26 b(A)20 b(formatter)448
4519 y(is)27 b(pr)o(obably)f(not)i(inter)o(ested)e(in)h(comments,)i
(and)d(a)g(querying)i(tool)g(will)f(only)h(sear)o(ch)448
4619 y(the)33 b(document)g(instance)f(and)g(ignor)o(e)h(the)g(DTD.)61
b(Ther)o(efor)o(e)30 b(we)j(pr)o(ovide)e(a)h(set)h(of)448
4718 y(hooks)22 b(that)f(simply)h(r)o(eturn)e(the)h(application)f(data)
g(unchanged:)1860 5662 y(4)p eop end
%%Page: 5 5
TeXDict begin 5 4 bop 656 531 a Fl(structure)18 b Fm(IgnoreHooks)28
b Fj(=)763 623 y Fl(struct)870 714 y(fun)20 b Fm(hookError\(a,)p
1425 726 40 3 v 37 w(\))30 b Fj(=)8 b Fm(a)870 805 y
Fl(fun)20 b Fm(hookW)m(ar)r(ning\(a,)p 1538 817 V 35
w(\))30 b Fj(=)8 b Fm(a)870 897 y Fl(fun)20 b Fm(hookStar)s(tT)-9
b(ag\(a,)p 1541 909 V 35 w(\))30 b Fj(=)9 b Fm(a)870
988 y(...)870 1079 y Fl(fun)20 b Fm(hookXml\(a,)p 1387
1091 V 37 w(\))30 b Fj(=)9 b Fm(a)870 1171 y Fl(fun)20
b Fm(hookFinish)e(a)30 b Fj(=)9 b Fm(a)763 1262 y Fl(end)448
1418 y Fp(These)26 b(functions)g(ar)o(e)e(polymorphic:)35
b(They)26 b(do)f(not)h(depend)e(on)i(the)g(type)f(of)g(the)h(ap-)448
1517 y(plication)g(data)f(and)g(can)h(thus)g(be)f(used)h(with)g
(arbitrary)f(types.)40 b(The)26 b(only)h(exception)448
1617 y(is)k Fm(hookFinish)c Fp(which)j(r)o(equir)o(es)f(types)h
Fm(AppData)e Fp(and)h Fm(AppFinal)e Fp(to)j(be)g(equal.)53
b(An)30 b(ap-)448 1717 y(plication)24 b(must)g(now)g(only)h(de\002ne)e
(the)g(hooks)i(that)e(have)g(a)g(dif)o(fer)o(ent)f(behavior)-6
b(.)32 b(E.g.,)448 1816 y(the)20 b(hooks)i(for)e(a)f(validator)g(ar)o
(e)g(implemented)h(in)g(a)g(few)f(lines,)i(because)e(it)h(only)h
(prints)448 1916 y(err)o(ors)f(and)h(warnings)g(but)g(ignor)o(es)g(all)
f(other)h(events:)656 2063 y Fl(structure)d Fm(Chec)o(kHooks)30
b Fj(=)763 2155 y Fl(struct)870 2246 y(open)20 b Fm(T)-9
b(e)n(xtIO)19 b(Errors)i(IgnoreHooks)870 2376 y Fl(type)f
Fm(AppData)28 b Fj(=)8 b Fm(OS)o(.Process)o(.status)870
2507 y Fl(fun)20 b Fm(message\(pos,msg\))29 b Fj(=)8
b Fm(output\(stdErr,P)l(osition2Str)q(in)o(g)14 b(pos)2845
2480 y Fc(^)2880 2507 y Fm(\224:)25 b(\224)2985 2480
y Fc(^)3020 2507 y Fm(msg\))870 2637 y Fl(fun)20 b Fm(hookError)f(\()p
1381 2649 V 39 w(,\(pos,err\)\))28 b Fj(=)978 2728 y
Fm(OS)o(.Process)o(.f)n(ailure)16 b(bef)n(ore)j
(message\(pos,errorMessage)e(err\))870 2820 y Fl(fun)j
Fm(hookW)m(ar)r(ning)d(\(status,\(pos,w)o(ar)r(n\)\))27
b Fj(=)978 2911 y Fm(status)20 b(bef)n(ore)e(message\(pos,w)o(ar)r
(ningMessage)e(w)o(ar)r(n\))763 3002 y Fl(end)448 3158
y Fp(Except)25 b(for)h Fm(hookError)e Fp(and)h Fm(hookW)m(ar)r(ning)l
Fp(,)i(all)f(hooks)h(ar)o(e)d(taken)i(over)g(fr)o(om)f(str)o(uctur)o(e)
448 3258 y Fm(IgnoreHooks)n Fp(.)g(Another)c(example)f(is)h(the)f
(application)h(alr)o(eady)d(mentioned)j(on)g(page)f(4:)448
3357 y(It)27 b(collects)g(all)f(attributes)g(named)g
Fe(href)p Fp(.)44 b(For)27 b(this)g(purpose)g(we)f(de\002ned)g(a)g(str)
o(uctur)o(e)448 3457 y Fm(HrefDtd)o Fp(,)17 b(har)o(d-coding)f(this)h
(attribute)g(name)f(to)h(a)g(constant)g(index)g Fm(hrefIdx)n
Fp(.)24 b(This)18 b(is)f(used)448 3557 y(in)22 b(the)e(de\002nition)i
(of)f(the)g(hooks:)656 3704 y Fl(structure)d Fm(HrefHooks)29
b Fj(=)763 3796 y Fl(struct)870 3887 y(open)20 b Fm(Base)g(HrefDtd)f
(IgnoreHooks)870 4017 y Fl(type)h Fm(AppData)28 b Fj(=)h
Fm(UniChar)l(.V)-6 b(ector)18 b(list)870 4109 y Fl(type)i
Fm(AppFinal)27 b Fj(=)i Fm(AppData)870 4239 y Fl(fun)20
b Fm(\002ndHref)g(nil)28 b Fj(=)i Fm(NONE)948 4330 y
Fi(j)37 b Fm(\002ndHref)20 b(\(\(idx,attPres\))8 b(::)g(rest\))27
b Fj(=)1085 4422 y Fl(if)20 b Fm(idx)9 b Fa(<)-11 b(>)8
b Fm(hrefIdx)20 b Fl(then)f Fm(\002ndHref)g(rest)1085
4513 y Fl(else)g(case)g Fm(attPres)1338 4604 y Fl(of)29
b Fm(AP)p 1542 4604 23 4 v 27 w(PRESENT\(v)n(ec,)p 2079
4616 40 3 v 38 w(\))g Fi(\))h Fm(SOME)21 b(v)n(ec)1378
4696 y Fi(j)38 b Fm(AP)p 1542 4696 23 4 v 27 w(DEF)-6
b(A)l(UL)e(T\(v)n(ec,)p 2049 4708 40 3 v 37 w(\))30 b
Fi(\))g Fm(SOME)21 b(v)n(ec)1378 4787 y Fi(j)p 1438 4799
V 107 w(\))30 b Fm(\002ndHref)19 b(rest)870 4917 y Fl(fun)h
Fm(hookStar)s(tT)-9 b(ag)18 b(\(a,\()p 1584 4929 V 38
w(,)p 1643 4929 V 39 w(,attSpecs,)p 2016 4929 V 37 w(,)p
2074 4929 V 39 w(\)\))30 b Fj(=)978 5009 y Fl(case)19
b Fm(\002ndHref)g(attSpecs)1065 5100 y Fl(of)29 b Fm(NONE)g
Fi(\))h Fm(a)1105 5191 y Fi(j)38 b Fm(SOME)20 b(x)31
b Fi(\))f Fm(x)8 b(::)g(a)870 5322 y Fl(v)o(al)19 b Fm(hookFinish)28
b Fj(=)h Fm(re)n(v)763 5413 y Fl(end)1860 5662 y Fp(5)p
eop end
%%Page: 6 6
TeXDict begin 6 5 bop 448 531 a Fp(In)31 b(or)o(der)e(to)h(identify)h
(a)e Fe(href)j Fp(attribute,)f(function)g Fm(\002ndHref)e
Fp(need)h(only)h(compar)o(e)e(its)448 631 y(index)h(with)g
Fm(hrefIdx)o Fp(.)52 b(Note)29 b(that)h(due)f(to)h(the)g(accumulative)f
(natur)o(e)f(of)i(the)g Fm(AppData)448 731 y Fp(ar)o(gument,)e(the)e
(attribute)g(values)g(ar)o(e)f(collected)i(in)g(r)o(everse)e(or)o(der)
-6 b(.)41 b(Ther)o(efor)o(e)25 b(func-)448 830 y(tion)e
Fm(hookFinish)c Fp(is)j(de\002ned)f(to)h(be)g(the)f(list)i(r)o
(eversing)e(function)h(and)f(r)o(eestablishes)g(the)448
930 y(original)h(or)o(der)-6 b(.)448 1216 y Fg(3)120
b(Implementing)29 b(a)h(T)-13 b(ree-Based)27 b(Interface)448
1405 y Fp(The)f(hooks)i(interface)d(of)h Fo(fxp)f Fp(its)h
(event-based;)h(nevertheless)f(a)g(tr)o(ee-based)e(interface)448
1504 y(can)h(easily)g(be)g(implemented)h(on)g(top)f(of)g(the)h(hooks.)
40 b(W)-8 b(e)25 b(pr)o(esent)g(bellow)h(an)f(imple-)448
1604 y(mentation)30 b(of)f(such)h(an)f(interface.)49
b(For)30 b(br)o(evity)-9 b(,)30 b(it)f(has)g(only)h(a)f(r)o(estricted)f
(informa-)448 1704 y(tion)c(set:)30 b(It)24 b(ignor)o(es)f(the)g(DTD,)g
(comments,)i(pr)o(ocessing)e(instr)o(uctions)i(and)e(the)g(entity)448
1803 y(str)o(uctur)o(e)i(of)h(the)g(document.)40 b(It)25
b(is,)i(however)-6 b(,)27 b(easy)e(to)h(extend)f(the)g(implementation)
448 1903 y(to)c(supply)h(all)e(this)i(information.)573
2003 y(The)k Fm(T)-9 b(ree)25 b Fp(data)g(type)h(is)h(simple:)37
b(A)26 b(tr)o(ee)f(is)h(either)g(a)g(piece)g(of)g(text)g(or)g(an)g
(element)448 2102 y(consisting)35 b(of)d(a)g(start-tag)g(and)g(a)g
(list)h(of)f(tr)o(ees)g(as)g(content.)62 b(The)32 b(application)h(data)
448 2202 y(r)o(epr)o(esents)23 b(the)h(partial)f(document)i(tr)o(ee)e
(constr)o(ucted)i(so)f(far)-6 b(.)35 b(It)24 b(contains)h(in)f(its)h
Fm(stac)o(k)448 2301 y Fp(component)30 b(for)e(each)f(ancestor)h
(element)h(of)f(the)g(curr)o(ent)f(position,)32 b(its)c(start-tag)g
(to-)448 2401 y(gether)23 b(with)h(the)f(list)h(of)f(its)g(\226)g(alr)o
(eady)e(complete)i(\226)f(left)h(siblings;)i(component)g
Fm(content)448 2501 y Fp(holds)g(the)f(childr)o(en)f(of)h(the)g(curr)o
(ent)f(element)h(that)g(ar)o(e)f(known)i(so)f(far)-6
b(.)34 b(At)24 b(the)g(begin-)448 2600 y(ning)i(of)e(the)g(parse)g
(both)h(components)g(ar)o(e)e(empty)-9 b(.)36 b(After)23
b(the)i(whole)g(document)g(has)448 2700 y(been)18 b(parsed,)e(the)i
(stack)f(must)h(be)f(empty)h(and)f(a)g(single)h(element)g(tr)o(ee)e
(must)i(have)f(been)448 2800 y(constr)o(ucted.)34 b(In)24
b(this)g(case)f(function)h Fm(hookFinish)d Fp(r)o(eturns)i(that)h
(element;)g(otherwise)g(it)448 2899 y(raises)d(an)f(exception.)573
2999 y(The)25 b(thr)o(ee)g(functions)h Fm(hookData)n
Fp(,)g Fm(hookCData)d Fp(and)i Fm(hookCharRef)e Fp(add)h(the)i(piece)f
(of)448 3098 y(text)31 b(r)o(eported)e(to)i(them)f(to)h(the)g(content)g
(of)g(the)f(curr)o(ent)g(element.)55 b(The)30 b(hook)i(for)e(a)448
3198 y(start-tag)21 b(pushes)i(that)f(tag)g(together)g(with)h(the)g
(content)g(of)f(the)g(curr)o(ent)f(element)i(onto)448
3298 y(the)k(stack.)42 b(The)26 b(element)h(started)e(by)i(that)f(tag)g
(now)h(becomes)g(the)f(curr)o(ent)g(element.)448 3397
y(Function)33 b Fm(hookEndT)-9 b(ag)28 b Fp(r)o(everses)i(the)h
(content)h(of)f(the)h(curr)o(ent)e(element)h(in)h(or)o(der)e(to)448
3497 y(compensate)19 b(for)f(the)h(r)o(eversing)f(ef)o(fect)f(of)h
(accumulation.)25 b(Its)19 b(tag)f(is)h(popped)f(fr)o(om)g(the)448
3597 y(stack)26 b(and)f(combined)g(with)i(its)f(content.)40
b(The)25 b(constr)o(ucted)h(tr)o(ee)f(is)g(then)h(pr)o(epended)448
3696 y(to)21 b(the)g(content)h(of)f(the)f(par)o(ent)g(element)h(which)h
(now)f(becomes)g(the)g(curr)o(ent)f(element.)448 3982
y Fg(4)120 b(Other)28 b(examples)448 4171 y Fo(fxp)d
Fp(comes)h(with)h(a)e(few)h(application)f(examples)h(which)g(r)o
(esides)f(in)i(the)f Fe(src/Apps)i Fp(di-)448 4271 y(r)o(ectory)-9
b(.)24 b(The)19 b(inter)o(ested)f(r)o(eader)f(can)h(\002nd)h(ther)o(e)f
(further)g(examples)h(of)g(using)g(the)g Fo(fxp)p Fp('s)448
4370 y(pr)o(ogramming)i(interface.)448 4656 y Fg(References)490
4845 y Fp([1])40 b(Andr)o(eas)132 b(Neumann.)i(Parsing)g(and)f
(Querying)h(XML)f(Docu-)628 4945 y(ments)116 b(in)g(SML.)d(University)j
(of)f(T)-7 b(rier)h(,)137 b(2000.)113 b(A)-8 b(vailable)114
b(at)628 5044 y Fe(http://www.informat)q(ik.)q(uni)q(-tr)q(ier)q(.de)q
(/\230n)q(eum)q(ann)q(/Pa)q(pe)q(rs/)q(the)q(sis)q(.ps)q(.gz)1860
5662 y Fp(6)p eop end
%%Page: 7 7
TeXDict begin 7 6 bop 448 698 2865 4 v 448 5018 4 4321
v 515 828 a Fl(structure)18 b Fm(T)-9 b(reeData)28 b
Fj(=)622 920 y Fl(struct)729 1011 y(e)o(xception)18 b
Fm(IllF)n(or)r(med)729 1141 y Fl(type)i Fm(T)-9 b(ag)28
b Fj(=)i Fm(int)f Fi(\003)h Fm(HookData.AttSpecList)729
1233 y Fl(datatype)18 b Fm(T)-9 b(ree)29 b Fj(=)g Fm(TEXT)20
b Fl(of)g Fm(UniChar)l(.V)-6 b(ector)1263 1324 y Fi(j)37
b Fm(ELEM)21 b Fl(of)f Fm(T)-9 b(ag)29 b Fi(\003)g Fm(Content)729
1415 y Fl(withtype)19 b Fm(Content)28 b Fj(=)h Fm(T)-9
b(ree)20 b(list)622 1507 y Fl(end)515 1728 y(structure)e
Fm(T)-9 b(reeHooks)29 b Fj(=)622 1820 y Fl(struct)729
1911 y(open)19 b Fm(IgnoreHooks)g(T)-9 b(reeData)18 b(UniChar)729
2041 y Fl(type)i Fm(AppData)27 b Fj(=)j Fm(Content)d
Fi(\003)j Fm(\(T)-9 b(ag)29 b Fi(\003)h Fm(Content\))18
b(list)729 2133 y Fl(type)i Fm(AppFinal)27 b Fj(=)i Fm(T)-9
b(ree)729 2263 y Fl(v)o(al)19 b Fm(appStar)s(t)28 b Fj(=)h
Fm(\(nil,nil\))729 2394 y Fl(fun)20 b Fm(hookStar)s(tT)-9
b(ag)17 b(\(\(content,stac)o(k\),)h(\()p 1909 2406 40
3 v 39 w(,elem,atts,)p 2295 2406 V 37 w(,empty\)\))29
b Fj(=)836 2485 y Fl(if)21 b Fm(empty)f Fl(then)g Fm(\(ELEM)g
(\(\(elem,atts\),nil\))8 b(::)g(content,stac)n(k\))836
2576 y Fl(else)20 b Fm(\(nil,\(\(elem,atts\),content\))7
b(::)h(stac)o(k\))729 2707 y Fl(fun)20 b Fm(hookEndT)-9
b(ag)18 b(\(\()p 1352 2719 V 38 w(,nil\),)p 1533 2719
V 38 w(\))30 b Fj(=)f Fl(raise)19 b Fm(IllF)n(or)r(med)806
2798 y Fi(j)38 b Fm(hookEndT)-9 b(ag)18 b(\(\(content,\(tag,content')o
(\))8 b(::)g(stac)o(k\),)p 2336 2810 V 33 w(\))30 b Fj(=)836
2889 y Fm(\(ELEM)21 b(\(tag,re)n(v)d(content\))8 b(::)g(content',stac)o
(k\))729 3020 y Fl(fun)20 b Fm(hookData)f(\(\(content,stac)o(k\),\()p
1769 3032 V 36 w(,v)n(ec,)p 1961 3032 V 39 w(\)\))30
b Fj(=)866 3111 y Fm(\(TEXT)20 b(v)n(ec)8 b(::)g(content,stac)o(k\))729
3202 y Fl(fun)20 b Fm(hookCData)f(\(\(content,stac)o(k\),\()p
1823 3214 V 36 w(,v)n(ec\)\))30 b Fj(=)866 3294 y Fm(\(TEXT)20
b(v)n(ec)8 b(::)g(content,stac)o(k\))729 3385 y Fl(fun)20
b Fm(hookCharRef)e(\(\(content,stac)o(k\),\()p 1889 3397
V 36 w(,c,)p 2004 3397 V 39 w(\)\))30 b Fj(=)866 3476
y Fm(\(TEXT\(Data2V)-6 b(ector)17 b([c]\))8 b(::)g(content,stac)o(k\))
729 3607 y Fl(fun)20 b Fm(hookFinish)e(\([elem],nil\))27
b Fj(=)i Fm(elem)806 3698 y Fi(j)38 b Fm(hookFinish)p
1248 3710 V 87 w Fj(=)30 b Fl(raise)19 b Fm(IllF)n(or)r(med)622
3789 y Fl(end)515 4011 y(structure)f Fm(P)m(arseT)-9
b(ree)19 b(:)622 4102 y Fl(sig)729 4194 y(v)o(al)g Fm(parseT)-9
b(ree)19 b(:)25 b(Ur)q(i.Ur)q(i)20 b(option)27 b Fi(!)j
Fm(Dtd.Dtd)19 b(option)28 b Fi(!)h Fm(T)-9 b(reeData.T)g(ree)622
4285 y Fl(end)523 4376 y Fj(=)38 b Fl(struct)729 4468
y(structure)19 b Fm(P)m(arser)29 b Fj(=)g Fm(P)m(arse)20
b(\()h Fl(structure)d Fm(Dtd)182 b Fj(=)29 b Fm(Dtd)1670
4559 y Fl(structure)18 b Fm(Hooks)87 b Fj(=)29 b Fm(T)-9
b(reeHooks)1670 4650 y Fl(structure)18 b Fm(P)m(arserOptions)28
b Fj(=)h Fm(P)m(arserOptions)19 b(\(\))1670 4742 y Fl(structure)f
Fm(Resolv)n(e)30 b Fj(=)f Fm(Resolv)n(eNull\))729 4833
y Fl(fun)20 b Fm(parseT)-9 b(ree)18 b(ur)q(i)i(dtd)29
b Fj(=)h Fm(P)m(arser)l(.parseDocument)17 b(ur)q(i)j(dtd)f(T)-9
b(reeHooks)o(.appStar)s(t)622 4924 y Fl(end)p 3309 5018
4 4321 v 448 5021 2865 4 v 852 5123 a Fh(Figure)20 b(3:)g
Fp(A)h(simple)g(tr)o(ee-based)d(interface)i(on)h(top)g(of)g(hooks.)p
448 5167 V 1860 5662 a(7)p eop end
%%Trailer

userdict /end-hook known{end-hook}if
%%EOF
